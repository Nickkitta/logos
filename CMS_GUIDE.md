# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º (CMS)

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è CMS –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ JSON —Ñ–∞–π–ª—ã –∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
content/
‚îú‚îÄ‚îÄ pages.json          # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ about.json          # –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–û —à–∫–æ–ª–µ"
‚îú‚îÄ‚îÄ contact.json        # –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
‚îî‚îÄ‚îÄ ...                 # –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

composables/
‚îî‚îÄ‚îÄ useContent.ts       # API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

components/
‚îî‚îÄ‚îÄ DynamicPage.vue     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑ JSON

pages/
‚îî‚îÄ‚îÄ admin.vue           # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

server/api/content/
‚îú‚îÄ‚îÄ save.post.ts        # API –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îî‚îÄ‚îÄ create-page.post.ts # API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

–û—Ç–∫—Ä–æ–π—Ç–µ `/admin` –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://localhost:3000/admin
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. –ù–∞–∂–º–∏—Ç–µ "+ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - **ID**: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–ª–∞—Ç–∏–Ω–∏—Ü–∞, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
   - **–ü—É—Ç—å**: URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/my-page`)
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

### 3. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞
2. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–Ω–æ–ø–∫–æ–π "+ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç"
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
5. –ù–∞–∂–º–∏—Ç–µ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

### 4. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **üìù –¢–µ–∫—Å—Ç–æ–≤—ã–π –±–ª–æ–∫** - –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç —Å HTML
- **üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏** - –∑–∞–≥–æ–ª–æ–≤–∫–∏ h2/h3
- **üí¨ –¶–∏—Ç–∞—Ç–∞** - –±–ª–æ–∫ —Å —Ü–∏—Ç–∞—Ç–æ–π –∏ –∞–≤—Ç–æ—Ä–æ–º
- **üì¢ –û–±—ä—è–≤–ª–µ–Ω–∏–µ** - –≤–∞–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- **üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–¥–ø–∏—Å—å—é
- **üÉè –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏** - —Å–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫

## –§–æ—Ä–º–∞—Ç JSON

### pages.json

```json
{
  "pages": [
    {
      "id": "about",
      "path": "/about",
      "title": "–û —à–∫–æ–ª–µ",
      "visible": true,
      "order": 1
    }
  ]
}
```

### –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, about.json)

```json
{
  "id": "about",
  "title": "–û –Ω–∞—à–µ–π —à–∫–æ–ª–µ",
  "subtitle": "–ò—Å—Ç–æ—Ä–∏—è, –º–∏—Å—Å–∏—è –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏",
  "components": [
    {
      "type": "text-block",
      "props": {
        "content": "<p>–¢–µ–∫—Å—Ç...</p>"
      }
    },
    {
      "type": "section-heading",
      "props": {
        "text": "–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è",
        "level": "h2"
      }
    },
    {
      "type": "quote",
      "props": {
        "text": "–¢–µ–∫—Å—Ç —Ü–∏—Ç–∞—Ç—ã",
        "author": "–ê–≤—Ç–æ—Ä",
        "variant": "accent"
      }
    }
  ]
}
```

## –í–∞–∂–Ω–æ! –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### ‚ö†Ô∏è –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ (REG.RU)

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤. –ù–∞ –æ–±—ã—á–Ω–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ REG.RU —ç—Ç–æ **–ù–ï –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨**.

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞:

- **Vercel** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **Netlify**
- **VPS —Å Node.js**
- –õ–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è REG.RU:

1. **Git-based CMS** (Netlify CMS / Decap CMS)
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–º–∏—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ

2. **Headless CMS** (Strapi, Sanity, Contentful)
   - –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã

3. **–†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON**
   - –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ `content/` –ª–æ–∫–∞–ª—å–Ω–æ
   - –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç: `npm run generate`
   - –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

### –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º:

```vue
<template>
  <DynamicPage page-id="about" />
</template>
```

### –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ:

```vue
<script setup>
const { loadPageContent } = useContent()
const pageData = await loadPageContent('about')
</script>
```

## API Endpoints

### POST /api/content/save

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

```javascript
await fetch('/api/content/save', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    pageId: 'about',
    content: { /* –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */ }
  })
})
```

### POST /api/content/create-page

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

```javascript
await fetch('/api/content/create-page', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    id: 'new-page',
    path: '/new-page',
    title: '–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞'
  })
})
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–µ –∑–∞—â–∏—â–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–º!

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –¥–æ–±–∞–≤—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é:

1. **–ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ middleware:

```typescript
// middleware/auth.ts
export default defineNuxtRouteMiddleware((to) => {
  if (to.path === '/admin') {
    const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:')
    if (password !== '–≤–∞—à-–ø–∞—Ä–æ–ª—å') {
      return navigateTo('/')
    }
  }
})
```

2. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –≤–∞—Ä–∏–∞–Ω—Ç** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Nuxt Auth –∏–ª–∏ Auth0

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ `components/`
2. –î–æ–±–∞–≤—å—Ç–µ –º–∞–ø–ø–∏–Ω–≥ –≤ `DynamicPage.vue`:

```javascript
const componentMap = {
  'quote': 'QuoteBlock',
  'my-component': 'MyComponent', // –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  // ...
}
```

3. –î–æ–±–∞–≤—å—Ç–µ –≤ —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –≤ `admin.vue`:

```javascript
const componentTypes = [
  { value: 'my-component', label: '–ú–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç', icon: 'üé®' },
  // ...
]
```

## –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Headless CMS

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:

### Strapi (—Å–∞–º–æ—Ö–æ—Å—Ç–∏–Ω–≥)

```bash
npx create-strapi-app@latest my-cms
```

### Sanity.io (–æ–±–ª–∞–∫–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

```bash
npm install @sanity/client
```

### Contentful (–æ–±–ª–∞–∫–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

```bash
npm install contentful
```

## Troubleshooting

### –û—à–∏–±–∫–∞: "Cannot write file"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Vercel/Netlify
- –ù–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª `content/page-id.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç JSON –Ω–∞ –æ—à–∏–±–∫–∏
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [ ] Drag & drop –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (WYSIWYG)
- [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
- [ ] SEO –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Nuxt Content](https://content.nuxtjs.org/) - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- [Netlify CMS](https://www.netlifycms.org/) - Git-based CMS
- [Strapi](https://strapi.io/) - Headless CMS
- [Sanity](https://www.sanity.io/) - Headless CMS
