<template>
  <span class="icon" :class="[size, variant]" :style="customStyle">
    <img v-if="isCustomIcon" :src="iconPath" :alt="name" />
    <span v-else>{{ emoji }}</span>
  </span>
</template>

<script setup>
import { computed } from 'vue'

const props = defineProps({
  name: {
    type: String,
    required: true
  },
  size: {
    type: String,
    default: 'medium',
    validator: (value) => ['small', 'medium', 'large', 'xlarge'].includes(value)
  },
  variant: {
    type: String,
    default: 'default'
  },
  color: String
})

// Ð’ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ emoji Ð¸ÐºÐ¾Ð½ÐºÐ¸
const emojiIcons = {
  // ÐžÐ±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ
  'book': 'ðŸ“š',
  'pencil': 'âœï¸',
  'graduation': 'ðŸŽ“',
  'school': 'ðŸ«',
  'teacher': 'ðŸ‘¨â€ðŸ«',
  'student': 'ðŸ‘¨â€ðŸŽ“',
  'backpack': 'ðŸŽ’',
  'notebook': 'ðŸ““',
  'ruler': 'ðŸ“',
  'calculator': 'ðŸ§®',
  
  // ÐšÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ñ
  'phone': 'ðŸ“ž',
  'email': 'ðŸ“§',
  'location': 'ðŸ“',
  'clock': 'ðŸ•',
  'calendar': 'ðŸ“…',
  'bell': 'ðŸ””',
  'megaphone': 'ðŸ“¢',
  
  // Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ
  'check': 'âœ“',
  'cross': 'âœ•',
  'star': 'â­',
  'heart': 'â¤ï¸',
  'trophy': 'ðŸ†',
  'medal': 'ðŸ…',
  'flag': 'ðŸš©',
  
  // ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ
  'home': 'ðŸ ',
  'menu': 'â˜°',
  'search': 'ðŸ”',
  'settings': 'âš™ï¸',
  'info': 'â„¹ï¸',
  'warning': 'âš ï¸',
  'error': 'âŒ',
  'success': 'âœ…',
  
  // Ð¡Ð¿Ð¾Ñ€Ñ‚ Ð¸ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸
  'sport': 'âš½',
  'basketball': 'ðŸ€',
  'music': 'ðŸŽµ',
  'art': 'ðŸŽ¨',
  'science': 'ðŸ”¬',
  'computer': 'ðŸ’»',
  'globe': 'ðŸŒ',
  
  // Ð¢Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚
  'bus': 'ðŸšŒ',
  'car': 'ðŸš—',
  'bike': 'ðŸš²',
  
  // Ð Ð°Ð·Ð½Ð¾Ðµ
  'fire': 'ðŸ”¥',
  'light': 'ðŸ’¡',
  'gift': 'ðŸŽ',
  'camera': 'ðŸ“·',
  'image': 'ðŸ–¼ï¸',
  'folder': 'ðŸ“',
  'document': 'ðŸ“„'
}

const isCustomIcon = computed(() => {
  return !emojiIcons[props.name]
})

const emoji = computed(() => {
  return emojiIcons[props.name] || 'â“'
})

const iconPath = computed(() => {
  return `/icons/${props.name}.svg`
})

const customStyle = computed(() => {
  if (props.color) {
    return { color: props.color }
  }
  return {}
})
</script>

<style scoped>
.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

.icon img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Ð Ð°Ð·Ð¼ÐµÑ€Ñ‹ */
.icon.small {
  font-size: 1rem;
  width: 1rem;
  height: 1rem;
}

.icon.medium {
  font-size: 1.5rem;
  width: 1.5rem;
  height: 1.5rem;
}

.icon.large {
  font-size: 2rem;
  width: 2rem;
  height: 2rem;
}

.icon.xlarge {
  font-size: 3rem;
  width: 3rem;
  height: 3rem;
}

/* Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ */
.icon.primary {
  color: #00DC82;
}

.icon.secondary {
  color: #667eea;
}

.icon.danger {
  color: #ff4757;
}

.icon.warning {
  color: #ffa502;
}

.icon.success {
  color: #00DC82;
}

.icon.muted {
  color: #999;
}
</style>
