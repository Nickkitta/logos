# üöÄ –î–µ–ø–ª–æ–π —Å Vercel KV - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–¥–µ–ª–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Vercel KV:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ `server/utils/storage.ts`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ API endpoints
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç JSON —Ñ–∞–π–ª—ã
- ‚úÖ –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å Vercel KV
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞

## üìä –•–≤–∞—Ç–∏—Ç –ª–∏ –º–µ—Å—Ç–∞?

**–î–∞, —Å –æ–≥—Ä–æ–º–Ω—ã–º –∑–∞–ø–∞—Å–æ–º!**

- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 256 MB
- –û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞: ~10-50 KB
- 20 —Å—Ç—Ä–∞–Ω–∏—Ü: ~1 MB
- **–ó–∞–ø–∞—Å: –≤ 256 —Ä–∞–∑ –±–æ–ª—å—à–µ!** üéâ

## –®–∞–≥ 1: –ó–∞–ø—É—à –∫–æ–¥ –Ω–∞ GitHub (2 –º–∏–Ω—É—Ç—ã)

```bash
git add .
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Vercel KV"
git push
```

–ï—Å–ª–∏ –µ—â–µ –Ω–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
```bash
git init
git add .
git commit -m "Initial commit with Vercel KV support"
git remote add origin https://github.com/username/repo.git
git branch -M main
git push -u origin main
```

## –®–∞–≥ 2: –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel (2 –º–∏–Ω—É—Ç—ã)

1. –ó–∞–π–¥–∏ –Ω–∞ https://vercel.com
2. Sign Up —á–µ—Ä–µ–∑ GitHub
3. **Add New Project**
4. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
5. **Deploy** (–ø–æ–∫–∞ –±–µ–∑ KV - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

## –®–∞–≥ 3: –°–æ–∑–¥–∞–π Vercel KV –±–∞–∑—É (2 –º–∏–Ω—É—Ç—ã)

1. –í Vercel Dashboard ‚Üí –≤—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **Storage** (–≤ –º–µ–Ω—é —Å–ª–µ–≤–∞)
3. –ù–∞–∂–º–∏ **Create Database**
4. –í—ã–±–µ—Ä–∏ **KV (Redis)**
5. –ù–∞–∑–æ–≤–∏ –±–∞–∑—É: `school-cms`
6. –ù–∞–∂–º–∏ **Create**
7. **–ü–æ–¥–∫–ª—é—á–∏ –∫ –ø—Ä–æ–µ–∫—Ç—É** (–ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É –Ω–∞–ø—Ä–æ—Ç–∏–≤ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `KV_REST_API_URL`
- `KV_REST_API_TOKEN`
- `KV_REST_API_READ_ONLY_TOKEN`
- `KV_URL`

## –®–∞–≥ 4: –î–æ–±–∞–≤—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (2 –º–∏–Ω—É—Ç—ã)

–í Vercel Dashboard ‚Üí **Settings** ‚Üí **Environment Variables**

–î–æ–±–∞–≤—å:
```
TELEGRAM_BOT_TOKEN = —Ç–≤–æ–π-—Ç–æ–∫–µ–Ω
TELEGRAM_CHAT_ID = —Ç–≤–æ–π-chat-id
SMTP_USER = —Ç–≤–æ–π-email@yandex.ru
SMTP_PASS = —Ç–≤–æ–π-–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
SCHOOL_EMAIL = —Ç–≤–æ–π-email@yandex.ru
YANDEX_MAPS_API_KEY = —Ç–≤–æ–π-–∫–ª—é—á
ADMIN_PASSWORD = —Ç–≤–æ–π-–ø–∞—Ä–æ–ª—å
```

–ù–∞–∂–º–∏ **Save** ‚Üí Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç.

## –®–∞–≥ 5: –ú–∏–≥—Ä–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ –≤ KV (3 –º–∏–Ω—É—Ç—ã)

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ Vercel CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ Vercel CLI
npm install -g vercel

# –ó–∞–ª–æ–≥–∏–Ω—å—Å—è
vercel login

# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ –ø—Ä–æ–µ–∫—Ç—É
vercel link

# –ó–∞–≥—Ä—É–∑–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
vercel env pull .env.local

# –ó–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—é
npm run migrate:kv
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É

1. –û—Ç–∫—Ä–æ–π —Å–≤–æ–π —Å–∞–π—Ç –Ω–∞ Vercel (–≤—Ä–µ–º–µ–Ω–Ω—ã–π URL)
2. –ó–∞–π–¥–∏ –≤ –∞–¥–º–∏–Ω–∫—É `/admin`
3. –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
   - –û—Ç–∫—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ù–∞–∂–º–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" (—ç—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –≤ KV)

## –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç (2 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π —Å–≤–æ–π —Å–∞–π—Ç –Ω–∞ Vercel
2. –ó–∞–π–¥–∏ –≤ –∞–¥–º–∏–Ω–∫—É `/admin`
3. –ü–æ–ø—Ä–æ–±—É–π:
   - –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
   - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è! ‚úÖ

## –®–∞–≥ 7: –ü–æ–¥–∫–ª—é—á–∏ —Å–≤–æ–π –¥–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –í Vercel ‚Üí **Settings** ‚Üí **Domains**
2. –î–æ–±–∞–≤—å —Å–≤–æ–π –¥–æ–º–µ–Ω
3. Vercel –ø–æ–∫–∞–∂–µ—Ç DNS –∑–∞–ø–∏—Å–∏
4. –ó–∞–π–¥–∏ –≤ –ø–∞–Ω–µ–ª—å Reg.ru:
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS
   - –î–æ–±–∞–≤—å –∑–∞–ø–∏—Å–∏ –∫–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Vercel
5. –ü–æ–¥–æ–∂–¥–∏ 10-30 –º–∏–Ω—É—Ç

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å:
- ‚úÖ CMS —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Vercel KV
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å JSON
- ‚úÖ –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ GitHub

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ:

```bash
npm run dev
```

–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON —Ñ–∞–π–ª—ã –≤ `/public/content/`

## –ë—ç–∫–∞–ø—ã

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ KV:

```bash
# –ó–∞–≥—Ä—É–∑–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
vercel env pull .env.local

# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ
npm run export:kv
```

–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫—É `/backup/`

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã:

–†–µ–∫–æ–º–µ–Ω–¥—É—é —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é:
1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ: `npm run export:kv`
2. –ö–æ–º–º–∏—Ç–∏—Ç—å –≤ Git: `git add backup/ && git commit -m "Backup"`

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
1. –ó–∞–π–¥–∏ –≤ –∞–¥–º–∏–Ω–∫—É –Ω–∞ —Å–∞–π—Ç–µ
2. –ò–∑–º–µ–Ω–∏ –∫–æ–Ω—Ç–µ–Ω—Ç
3. –°–æ—Ö—Ä–∞–Ω–∏
4. –ì–æ—Ç–æ–≤–æ! –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É

### –õ–æ–∫–∞–ª—å–Ω–æ:
1. –ó–∞–ø—É—Å—Ç–∏ `npm run dev`
2. –ó–∞–π–¥–∏ –≤ –∞–¥–º–∏–Ω–∫—É
3. –ò–∑–º–µ–Ω–∏ –∫–æ–Ω—Ç–µ–Ω—Ç
4. –°–æ—Ö—Ä–∞–Ω–∏ (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ JSON)
5. –ó–∞–∫–æ–º–º–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å:
   ```bash
   git add public/content/
   git commit -m "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
   git push
   ```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è KV:

1. Vercel Dashboard ‚Üí Storage ‚Üí —Ç–≤–æ—è KV –±–∞–∑–∞
2. –°–º–æ—Ç—Ä–∏:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### –õ–∏–º–∏—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
- 256 MB –¥–∞–Ω–Ω—ã—Ö
- 3,000 –∫–æ–º–∞–Ω–¥/–¥–µ–Ω—å
- –î–ª—è 20 —Å—Ç—Ä–∞–Ω–∏—Ü —Ö–≤–∞—Ç–∏—Ç –Ω–∞ –≥–æ–¥—ã!

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### CMS –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:

1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ KV –±–∞–∑–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: Vercel Dashboard ‚Üí Deployments ‚Üí View Function Logs

### –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –£–±–µ–¥–∏—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Vercel CLI: `npm install -g vercel`
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω: `vercel login`
3. –£–±–µ–¥–∏—Å—å —á—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `vercel env pull .env.local`
4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ–∞–π–ª `.env.local` —Å–æ–∑–¥–∞–Ω

### –õ–æ–∫–∞–ª—å–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ JSON —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ –≤ `/public/content/`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ dev —Å–µ—Ä–≤–µ—Ä: `npm run dev`

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ó–∞–¥–µ–ø–ª–æ–π –Ω–∞ Vercel
2. ‚úÖ –°–æ–∑–¥–∞–π KV –±–∞–∑—É
3. ‚úÖ –ú–∏–≥—Ä–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ –ü–æ–¥–∫–ª—é—á–∏ —Å–≤–æ–π –¥–æ–º–µ–Ω
6. üéâ –ì–æ—Ç–æ–≤–æ!

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# –ú–∏–≥—Ä–∞—Ü–∏—è –≤ KV
npm run migrate:kv

# –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ KV
npm run export:kv

# –î–µ–ø–ª–æ–π –Ω–∞ Vercel
git push

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
vercel logs
```

## –°—Ç–æ–∏–º–æ—Å—Ç—å

**–ë–µ—Å–ø–ª–∞—Ç–Ω–æ:**
- Vercel Hosting: –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- Vercel KV: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (256MB, 3K –∫–æ–º–∞–Ω–¥/–¥–µ–Ω—å)
- –ò—Ç–æ–≥–æ: 0‚ÇΩ/–º–µ—Å—è—Ü üéâ

**–ï—Å–ª–∏ –≤—ã—Ä–∞—Å—Ç–µ—à—å:**
- Vercel Pro: $20/–º–µ—Å—è—Ü (–±–æ–ª—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞)
- Vercel KV Pro: $1/–º–µ—Å—è—Ü (1GB, 100K –∫–æ–º–∞–Ω–¥/–¥–µ–Ω—å)

–î–ª—è —à–∫–æ–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ —Ö–≤–∞—Ç–∏—Ç –Ω–∞ –≥–æ–¥—ã!
